# テキスト装飾記法ガイド

JSONデータ内でテキストに装飾（下線、太字、色など）を追加するための記法について説明します。

## 📝 推奨記法

### オプション1: Markdown記法（推奨）⭐

一般的で読みやすく、多くのライブラリでサポートされています。

```json
{
  "question": "下線部**Ａ**に関して、期間定額基準との違いに触れながら、**給付算定式基準**とは何かを説明しなさい。"
}
```

#### 利用可能な記法

- **太字**: `**テキスト**` または `__テキスト__`
- *斜体*: `*テキスト*` または `_テキスト_`
- ~~取り消し線~~: `~~テキスト~~`
- `コード`: `` `テキスト` ``
- [リンク](URL): `[テキスト](URL)`

#### 注意点

- Markdownには標準の下線記法がないため、HTMLタグを使用する必要があります
- または、カスタム記法を使用

---

### オプション2: HTMLタグ（シンプル）

HTMLタグをそのまま使用します。Next.jsでは`dangerouslySetInnerHTML`を使用する必要があります。

```json
{
  "question": "下線部<u>Ａ</u>に関して、期間定額基準との違いに触れながら、<strong>給付算定式基準</strong>とは何かを説明しなさい。"
}
```

#### 利用可能なタグ

- **太字**: `<strong>テキスト</strong>` または `<b>テキスト</b>`
- *斜体*: `<em>テキスト</em>` または `<i>テキスト</i>`
- <u>下線</u>: `<u>テキスト</u>`
- ~~取り消し線~~: `<s>テキスト</s>` または `<del>テキスト</del>`
- 上付き: `<sup>テキスト</sup>`
- 下付き: `<sub>テキスト</sub>`
- 色: `<span style="color: red;">テキスト</span>`
- 背景色: `<span style="background-color: yellow;">テキスト</span>`

---

### オプション3: カスタム記法

プロジェクト独自の記法を定義します。

```json
{
  "question": "下線部[下線:Ａ]に関して、期間定額基準との違いに触れながら、{太字:給付算定式基準}とは何かを説明しなさい。"
}
```

#### 例

- 下線: `[下線:テキスト]`
- 太字: `{太字:テキスト}` または `**テキスト**`
- 色付き: `[色:赤:テキスト]`
- 背景色: `[背景:黄色:テキスト]`

---

## 🎯 実装方法の提案

### 方法A: Markdown + HTMLタグ（推奨）⭐

Markdown記法を使用し、下線などはHTMLタグを許可します。

```json
{
  "question": "下線部<u>Ａ</u>に関して、期間定額基準との違いに触れながら、**給付算定式基準**とは何かを説明しなさい。"
}
```

実装：
- `react-markdown` と `rehype-raw` を使用
- HTMLタグを許可してMarkdownと組み合わせる

---

### 方法B: HTMLタグのみ（シンプル）

すべてHTMLタグを使用します。

```json
{
  "question": "下線部<u>Ａ</u>に関して、期間定額基準との違いに触れながら、<strong>給付算定式基準</strong>とは何かを説明しなさい。"
}
```

実装：
- `dangerouslySetInnerHTML` を使用
- シンプルだが、XSS対策が必要

---

### 方法C: カスタム記法 + 変換関数

独自の記法を定義し、JavaScript関数で変換します。

```json
{
  "question": "下線部[下線:Ａ]に関して、期間定額基準との違いに触れながら、{太字:給付算定式基準}とは何かを説明しなさい。"
}
```

実装：
- 正規表現を使用してカスタム記法をHTMLに変換
- 柔軟だが、変換ロジックの実装が必要

---

## 💡 推奨実装

**方法A（Markdown + HTMLタグ）を推奨します。**

理由：
- ✅ 標準的で読みやすい
- ✅ 多くのライブラリがサポート
- ✅ 下線などもHTMLタグで簡単に実現
- ✅ 将来的な拡張性が高い

---

## 📋 使用例

### 現在のデータ（改行のみ）

```json
{
  "question": "問題1-問1 問1 我が国の退職給付会計の開示に関する以下の設問に答えなさい。\\n【注記事項】\\n～(略)～"
}
```

### 装飾を追加したデータ

```json
{
  "question": "問題1-問1 問1 我が国の退職給付会計の開示に関する以下の設問に答えなさい。\\n【注記事項】\\n～(略)～\\n4．会計方針に関する事項\\n～(略)～\\n(4) 退職給付に係る会計処理の方法\\nア 退職給付見込額の期間帰属方法\\n退職給付債務の算定にあたり、退職給付見込額を当連結会計年度末までの期間に\\n帰属させる方法については、<u>Ａ</u> 給付算定式基準によっております。"
}
```

---

## 🔧 実装の優先順位

1. **Phase 1**: HTMLタグのみをサポート（シンプル、即座に実装可能）
2. **Phase 2**: Markdown記法を追加（`react-markdown`を使用）
3. **Phase 3**: カスタム記法の追加（必要に応じて）








